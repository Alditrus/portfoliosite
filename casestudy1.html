<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Voltaire&family=Kreon:wght@400;700&family=Geologica:wght@300;400;500&display=swap" rel="stylesheet">

    <!-- Preload critical images for faster initial load -->
    <link rel="preload" as="image" href="graphics/JO_neon.svg">
    <link rel="preload" as="image" href="graphics/casestudy2/hero_image.png">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            text-align: left;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: white;
            background-color: #0A0A0A;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1500px;
            width: 50%;
            margin: 0 auto;
            padding: 20px;
            padding-top: 230px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .fixed-header-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: linear-gradient(to bottom, #0A0A0A 0%, #0A0A0A 70%, rgba(10, 10, 10, 0.9) 80%, rgba(10, 10, 10, 0.6) 90%, rgba(10, 10, 10, 0.2) 95%, rgba(10, 10, 10, 0) 100%);
            padding-bottom: 10px;
        }

        header {
            text-align: center;
            margin-bottom: 0;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px 0;
        }

        .hamburger {
            display: none;
            position: absolute;
            left: 30px;
            cursor: pointer;
            z-index: 1000;
        }

        .hamburger svg {
            width: 40px;
            height: 35px;
        }

        .header-logo {
            transition: transform 0.3s ease, filter 0.3s ease;
        }

        .header-logo:hover {
            transform: scale(1.1);
            filter: brightness(0) invert(1) drop-shadow(0 0 10px #ffffff) !important;
        }

        h1 {
            font-family: 'Voltaire', sans-serif;
            font-size: 40px;
            font-weight: 300;
            margin-bottom: 20px;
            letter-spacing: 0.10em;
            text-transform: uppercase;
        }

        h2 {
            margin-bottom: 30px;
            font-family: 'Kreon', serif;
            font-size: 30px;
            font-weight: 100;
            position: relative;
        }

        h3 {
            font-size: 24px;
            margin-bottom: 30px;
            font-family: 'Kreon', serif;
            font-weight: 100;
            position: relative;
        }

        p {
            font-family: 'Geologica', sans-serif;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: #ccc;
        }

        .section {
            margin-bottom: 50px;
        }


        nav {
            text-align: center;
            margin-bottom: 50px;
            position: relative;
            padding: 10px 0;
        }

        nav ul {
            list-style: none;
            display: inline-flex;
            justify-content: space-between;
            width: 80%;
            max-width: 600px;
            margin: 0 auto;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-family: 'Voltaire', sans-serif;
            font-size: 20px;
            text-transform: uppercase;
            letter-spacing: 0.45em;
            transition: color 0.3s;
        }

        nav a:hover {
            color: #ccc;
        }

        .mobile-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(10, 10, 10, 0.95);
            z-index: 1001;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .mobile-nav.active {
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 40px;
            text-align: center;
        }

        .mobile-nav li {
            text-align: center;
        }

        .mobile-nav a {
            color: white;
            text-decoration: none;
            font-family: 'Voltaire', sans-serif;
            font-size: 30px;
            text-transform: uppercase;
            letter-spacing: 0.45em;
            transition: color 0.3s;
        }

        .mobile-nav a:hover {
            color: #ccc;
        }

        .about-content {
            display: flex;
            align-items: flex-start;
            gap: 40px;
            margin-bottom: 100px;
        }

        .about-text {
            flex: 1;
            text-align: left;
        }

        .about-text h2 {
            font-family: 'Voltaire', sans-serif;
            font-size: 40px;
            font-weight: 300;
            margin-bottom: 20px;
            letter-spacing: 0.10em;
            text-transform: uppercase;
        }

        .about-text p {
            font-family: 'Geologica', sans-serif;
            line-height: 1.6;
        }

        .about-image {
            flex-shrink: 0;
            position: relative;
        }

        .about-image .frame {
            max-width: 400px;
            width: 100%;
            height: auto;
            position: relative;
            z-index: 2;
        }

        .about-image .portrait {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 80%;
            max-height: 80%;
            object-fit: cover;
            z-index: 1;
        }

        .experience-education {
            display: flex;
            gap: 40px;
            margin-top: 50px;
        }

        .experience-education > div {
            flex: 1;
        }

        .experience-education h2 {
            font-family: 'Voltaire', sans-serif;
            font-size: 50px;
            font-weight: 300;
            margin-bottom: 20px;
            letter-spacing: 0.10em;
            text-align: left;
            text-transform: uppercase;
        }

        .experience-education ul {
            list-style-type: none;
            margin-left: 0;
            position: relative;
        }

        .experience-education ul::before {
            content: '';
            position: absolute;
            left: 1px;
            top: 15px;
            height: calc(100% - 120px);
            width: 6px;
            border-left: 8px dotted #555;
        }

        .experience-education li {
            margin-bottom: 30px;
            font-family: 'Kreon', serif;
            font-size: 30px;
            font-weight: 100;
            position: relative;
            padding-left: 40px;
        }

        .experience-education li::before {
            content: '';
            position: absolute;
            left: -6px;
            top: 15px;
            width: .75em;
            height: .75em;
            background: white;
            border-radius: 50%;
        }

        .experience-education li .subtitle {
            color: #888888;
            display: block;
            font-size: 24px;
        }

        @media (max-width: 980px) {
            .container {
                max-width: none;
                width: 100%;
                padding: 20px;
                padding-top: 140px;
            }

            .fixed-header-nav {
                width: 100%;
                padding: 0;
                padding-bottom: 10px;
            }

            header {
                width: 100%;
                padding: 10px 20px;
            }

            .hamburger {
                display: block;
                position: absolute;
                left: 30px;
            }

            .hamburger svg {
                width: 40px;
                height: 35px;
            }

            nav {
                display: none;
            }

            .about-image .frame {
                max-width: 300px;
            }
        }

        @media (max-width: 770px) {
            .about-content {
                flex-direction: column;
                text-align: center;
            }

            .about-image {
                align-self: center;
            }

            .experience-education {
                flex-direction: column;
                gap: 20px;
            }

            .experience-education h2 {
                text-align: center;
            }
        }

        footer {
            text-align: center;
            margin-top: auto;
            padding-top: 40px;
            border-top: 3px solid transparent;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(to right, rgba(85, 85, 85, 0), #555, rgba(85, 85, 85, 0));
        }

        footer p {
            font-family: 'Voltaire', sans-serif;
            letter-spacing: 0.45em;
            text-align: center;
            opacity: 0.5;
            text-transform: uppercase;
        }

        /* Image expand functionality styles */
        .image-wrapper {
            text-align: center;
            margin: 20px 0;
        }

        .image-container {
            position: relative;
            display: inline-block;
            max-width: 800px;
            width: 100%;
        }

        /* Image loading states */
        .image-container img:first-child,
        .hero-container img {
            opacity: 0;
            transition: opacity 0.3s ease-in;
        }

        .image-container img:first-child.loaded,
        .hero-container img.loaded {
            opacity: 1;
        }

        /* Loading placeholder for images */
        .image-container::before,
        .hero-container::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            background: linear-gradient(90deg, #1a1a1a 25%, #2a2a2a 50%, #1a1a1a 75%);
            background-size: 200% 100%;
            animation: shimmer 1.5s infinite;
            border-radius: 8px;
            z-index: 0;
        }

        .image-container.image-loaded::before,
        .hero-container.image-loaded::before {
            display: none;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        .image-container.persona {
            max-width: 600px;
        }

        .image-container img:first-child {
            width: 100%;
            display: block;
        }

        .expand-button {
            position: absolute;
            bottom: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            cursor: pointer;
            transition: transform 0.2s ease;
            z-index: 10;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 1)) drop-shadow(0 4px 8px rgba(0, 0, 0, 0.9));
        }

        .expand-button:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 1)) drop-shadow(0 6px 12px rgba(0, 0, 0, 1));
        }

        .image-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(10, 10, 10, 0.95);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-overlay.active {
            display: flex;
            opacity: 1;
        }

        .image-overlay img {
            max-width: 95%;
            max-height: 90vh;
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        .image-overlay img:first-child {
            cursor: zoom-in;
        }

        .image-overlay img:first-child.zoomed {
            cursor: grab;
            max-width: none;
            max-height: none;
            width: auto;
            height: auto;
        }

        .image-overlay img:first-child.zoomed.dragging {
            cursor: grabbing;
        }

        .exit-button {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            cursor: pointer;
            transition: transform 0.2s ease;
            z-index: 2001;
        }

        .exit-button:hover {
            transform: scale(1.1);
        }

        /* Hero image styles */
        .hero-container {
            position: relative;
            width: 100%;
            margin-bottom: 50px;
        }

        .hero-container img {
            width: 100%;
            display: block;
        }

        .hero-container::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 200px;
            background: linear-gradient(to bottom, rgba(10, 10, 10, 0) 0%, rgba(10, 10, 10, 0.5) 50%, #0A0A0A 100%);
            pointer-events: none;
        }

        .hero-container h1 {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            margin: 0;
            padding: 0 20px;
            text-shadow: 0 6px 20px rgba(0, 0, 0, 0.95), 0 2px 10px rgba(0, 0, 0, 0.9);
            z-index: 1;
        }

        /* Figma embed styles */
        .figma-embed {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
            text-align: center;
        }

        .figma-embed iframe {
            width: 100%;
            height: 600px;
            border: 1px solid #333;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="fixed-header-nav">
        <header>
            <div class="hamburger" onclick="toggleMobileNav()">
                <svg width="50" height="42" viewBox="0 0 50 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2 2H48" stroke="white" stroke-width="3" stroke-linecap="round"/>
                    <path d="M2 21.5H48" stroke="white" stroke-width="3" stroke-linecap="round"/>
                    <line x1="3.5" y1="40" x2="46.5" y2="40" stroke="white" stroke-width="3" stroke-linecap="round"/>
                </svg>
            </div>
            <a href="index.html">
                <img src="graphics/JO_neon.svg" alt="JO" class="header-logo" style="max-width: auto; height: 70px; margin-bottom: 10px; margin-top: 10px; filter: brightness(0) invert(1); cursor: pointer;">
            </a>
        </header>

        <nav>
            <ul>
                <li><a href="about.html">About</a></li>
                <li><a href="work.html">Work</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </div>

    <div class="container">

        <div class="mobile-nav" id="mobileNav">
            <ul>
                <li><a href="index.html" onclick="toggleMobileNav()">Home</a></li>
                <li><a href="about.html" onclick="toggleMobileNav()">About</a></li>
                <li><a href="work.html" onclick="toggleMobileNav()">Work</a></li>
                <li><a href="contact.html" onclick="toggleMobileNav()">Contact</a></li>
            </ul>
        </div>

        <!-- Image overlay for expanded view -->
        <div class="image-overlay" id="imageOverlay">
            <img id="expandedImage" src="" alt="Expanded view" onclick="toggleZoom(event)">
            <img src="graphics/exit_button.svg" alt="Close" class="exit-button" onclick="closeImageOverlay()">
        </div>

        <section class="section">
            <div class="hero-container">
                <img src="graphics/casestudy2/hero_image.png" alt="DAO Communications Platform Hero">
                <h1>User Research for a DAO Communications Platform</h1>
            </div>

            <h2>What is a DAO?</h2>

            <p>DAOs (Decentralized Autonomous Organizations) are blockchain-powered organizations governed collectively without central control. They utilize smart contracts to establish rules, ensuring transparency and democratic decision-making. While promising increased efficiency and reduced bureaucracy, DAOs remain in early stages of development.</p>

            <p>Currently, many DAOs rely on traditional platforms like Discord for communication. However, Discord's private corporate ownership contradicts DAO principles of decentralization. This dependency creates risks, as changes to Discord could potentially compromise DAO operations, highlighting the need for truly decentralized communication tools.</p>

            <p>In order for DAOs to succeed in their goals of democratic governance and decentralized coordination, they need a communications tool that is free from centralized control and is designed to allow contributors to work together efficiently and effectively. As someone who is interested in creating more humanistic organizations, I pursued this project to evaluate the strengths and weaknesses of Discord and other legacy tools in order to design an alternative blockchain-distributed communications platform that would enable DAOs to thrive.</p>

            <h2>User Research</h2>

            <p>My user group consisted of 3 individuals from Farcaster, a decentralized social protocol. Participants were primarily developers and technologists aged 20-30 years old who were either actively involved in DAOs or had previous DAO experience.</p>

            <p>Users appreciated Discord's channel customization features and the ability to configure channel bots for information organization. However, they expressed frustration with the difficulty of accessing and organizing important information efficiently. Many reported experiencing "Discord burnout" due to information overload, highlighting the need for clear communication and easily accessible task-related information.</p>

            <div class="image-wrapper">
                <div class="image-container">
                    <img src="graphics/casestudy2/Affinity Diagram.jpg" alt="Affinity Diagram" loading="lazy">
                    <img src="graphics/expand_button.svg" alt="Expand" class="expand-button" onclick="expandImage('graphics/casestudy2/Affinity Diagram.jpg')">
                </div>
            </div>

            <p>Based on collected data, I created a persona summarizing user needs, goals, and requirements. This led to the identification of five key user requirements that guided my project design. These requirements evolved significantly through ongoing user collaboration and feedback, ultimately reshaping the project's direction.</p>

            <div class="image-wrapper">
                <div class="image-container persona">
                    <img src="graphics/casestudy2/persona.png" alt="User Persona" loading="lazy">
                    <img src="graphics/expand_button.svg" alt="Expand" class="expand-button" onclick="expandImage('graphics/casestudy2/persona.png')">
                </div>
            </div>

            <h2>Creating a Design Concept</h2>

            <p>Initially, my design concepts drew heavy inspiration from Discord's UI, while incorporating additional features to meet user needs. However, user feedback revealed that organizing and accessing information (tasks, roles, DAOs, and notifications) was a more pressing need than basic communication functionality. Addressing this would enable contributors to coordinate more effectively and dedicate more energy to meaningful DAO governance discussions.</p>

            <div class="image-wrapper">
                <div class="image-container">
                    <img src="graphics/casestudy2/sketch1.png" alt="Initial Design Sketch" loading="lazy">
                    <img src="graphics/expand_button.svg" alt="Expand" class="expand-button" onclick="expandImage('graphics/casestudy2/sketch1.png')">
                </div>
            </div>

            <p>In light of this, I pivoted my product from a communications platform to a productivity dashboard. I designed tools for displaying and checking notifications, completing tasks, and organizing the DAOs that contributors were a part of. I also included in my design a widget that would allow users to plug custom built tools, introducing composability to accommodate the diverse needs of different organizations. However for this study, I did not expound on this feature and instead focused on essential functions required for effective DAO contribution.</p>

            <div class="image-wrapper">
                <div class="image-container">
                    <img src="graphics/casestudy2/sketch2.png" alt="Design Sketch 2" loading="lazy">
                    <img src="graphics/expand_button.svg" alt="Expand" class="expand-button" onclick="expandImage('graphics/casestudy2/sketch2.png')">
                </div>
            </div>

            <div class="image-wrapper">
                <div class="image-container">
                    <img src="graphics/casestudy2/sketch3.png" alt="Design Sketch 3" loading="lazy">
                    <img src="graphics/expand_button.svg" alt="Expand" class="expand-button" onclick="expandImage('graphics/casestudy2/sketch3.png')">
                </div>
            </div>

            <p>The DAO tooling landscape is notably fragmented, with numerous platforms and applications scattered across different spaces. My design aimed to address this by providing centralized access to critical tools.</p>

            <p>After establishing the task hierarchy and creating storyboards, I refined my design for prototype development.</p>

            <h2>Prototype and Usability Testing</h2>

            <p>I developed an initial prototype in Balsamiq before creating the final version in Figma. While the prototype was sufficient for usability testing, the interface needs refinement - specifically, the oversized text and UI elements create an unwieldy experience, and the color scheme requires improvement. These issues will be addressed in future iterations.</p>

            <div class="figma-embed">
                <iframe style="border: 1px solid rgba(0, 0, 0, 0.1);" src="https://embed.figma.com/proto/WpiGWbBpcgGgox0xCVRbLA/DAO-platform?node-id=1-3&scaling=scale-down&content-scaling=fixed&page-id=0%3A1&starting-point-node-id=1%3A3&embed-host=share" allowfullscreen></iframe>
            </div>

            <p>The usability testing was designed to measure how quickly and easily users could locate specific information and how well they can learn the interface layout, addressing the primary user need for efficient information access.</p>

            <p>I recruited a participant from the initial user research phase, streamlining the recruitment process and making scheduling easier.</p>

            <p>The prototype performed well in efficiency and learnability metrics, with task completion times under 15 seconds. While all tasks were completed successfully on the first attempt, the notification page's "read all" function caused some confusion due to unclear iconography. I resolved this by adding explanatory text beside the icon.</p>

            <p>During the interview, the user suggested implementing AI automation for notification management and task creation. This led to my decision to incorporate an automated AI feed in the next iteration, further reducing user friction.</p>

            <h2>Conclusion</h2>

            <p>This project began as an investigation into DAOs' reliance on Discord and an attempt to create a decentralized alternative. However, user research revealed that the community's needs extended beyond basic communication. Users primarily sought quick, efficient access to relevant information, using Discord mainly due to a lack of alternatives. For DAOs to succeed, they require an integrated platform combining productivity and communication tools that minimizes cognitive load and delivers targeted information.</p>

            <p>The research also highlighted the crucial role of artificial intelligence in DAO interfaces. AI integration will be essential for achieving true autonomy, both in task automation and independent organizational operation. These insights will guide my future research with designing DAO products.</p>

            <p>Currently, I am conducting user research for Farcastle, a project focused on developing DAO tools within the Farcaster protocol. This include the development and use of "frames", an innovative and groundbreaking feature that enables users to build and utilize apps within their posts. I will use the insights gained from this study to help inform Farcastle's tool design and strategic direction.</p>
        </section>

        <footer>
            <p>&copy; 2025 Jamison Orten. All rights reserved.</p>
        </footer>
    </div>

    <script>
        function toggleMobileNav() {
            const mobileNav = document.getElementById('mobileNav');
            mobileNav.classList.toggle('active');
        }

        // Close mobile nav when clicking outside
        const mobileNav = document.getElementById('mobileNav');
        mobileNav.addEventListener('click', (e) => {
            if (e.target === mobileNav) {
                mobileNav.classList.remove('active');
            }
        });

        // Image expand functionality
        function expandImage(imageSrc) {
            const overlay = document.getElementById('imageOverlay');
            const expandedImage = document.getElementById('expandedImage');
            expandedImage.src = imageSrc;
            expandedImage.classList.remove('zoomed');
            expandedImage.style.transform = 'scale(1)';
            overlay.classList.add('active');
        }

        function closeImageOverlay() {
            const overlay = document.getElementById('imageOverlay');
            const expandedImage = document.getElementById('expandedImage');
            overlay.classList.remove('active');
            expandedImage.classList.remove('zoomed');
            expandedImage.style.transform = 'scale(1)';
        }

        // Zoom and pan variables
        let isDragging = false;
        let startX, startY;
        let currentTranslateX = 0;
        let currentTranslateY = 0;

        // Zoom functionality
        function toggleZoom(event) {
            event.stopPropagation();
            const img = document.getElementById('expandedImage');

            if (!img.classList.contains('zoomed')) {
                // Zoom in
                img.classList.add('zoomed');
                const rect = img.getBoundingClientRect();
                const x = event.clientX || (event.touches && event.touches[0].clientX);
                const y = event.clientY || (event.touches && event.touches[0].clientY);
                const xPos = x - rect.left;
                const yPos = y - rect.top;
                const xPercent = (xPos / rect.width) * 100;
                const yPercent = (yPos / rect.height) * 100;
                img.style.transformOrigin = `${xPercent}% ${yPercent}%`;
                currentTranslateX = 0;
                currentTranslateY = 0;
                img.style.transform = 'scale(2)';
            } else {
                // Zoom out
                img.classList.remove('zoomed');
                img.style.transform = 'scale(1)';
                currentTranslateX = 0;
                currentTranslateY = 0;
            }
        }

        // Pan functionality
        const expandedImage = document.getElementById('expandedImage');

        expandedImage.addEventListener('mousedown', function(e) {
            if (this.classList.contains('zoomed')) {
                isDragging = true;
                this.classList.add('dragging');
                startX = e.clientX - currentTranslateX;
                startY = e.clientY - currentTranslateY;
                e.preventDefault();
            }
        });

        expandedImage.addEventListener('mousemove', function(e) {
            if (isDragging && this.classList.contains('zoomed')) {
                e.preventDefault();
                const x = e.clientX - startX;
                const y = e.clientY - startY;
                currentTranslateX = x;
                currentTranslateY = y;
                this.style.transform = `scale(2) translate(${x}px, ${y}px)`;
            }
        });

        expandedImage.addEventListener('mouseup', function(e) {
            if (isDragging) {
                isDragging = false;
                this.classList.remove('dragging');
            }
        });

        expandedImage.addEventListener('mouseleave', function() {
            if (isDragging) {
                isDragging = false;
                this.classList.remove('dragging');
            }
        });

        // Touch events for mobile
        expandedImage.addEventListener('touchstart', function(e) {
            if (this.classList.contains('zoomed')) {
                isDragging = true;
                startX = e.touches[0].clientX - currentTranslateX;
                startY = e.touches[0].clientY - currentTranslateY;
            }
        });

        expandedImage.addEventListener('touchmove', function(e) {
            if (isDragging && this.classList.contains('zoomed')) {
                e.preventDefault();
                const x = e.touches[0].clientX - startX;
                const y = e.touches[0].clientY - startY;
                currentTranslateX = x;
                currentTranslateY = y;
                this.style.transform = `scale(2) translate(${x}px, ${y}px)`;
            }
        });

        expandedImage.addEventListener('touchend', function() {
            isDragging = false;
        });

        // Click overlay background to close
        document.getElementById('imageOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageOverlay();
            }
        });

        // Close overlay with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeImageOverlay();
            }
        });

        // Image loading handler for smooth transitions
        function handleImageLoad() {
            const heroImage = document.querySelector('.hero-container img');
            const heroContainer = document.querySelector('.hero-container');
            const imageContainers = document.querySelectorAll('.image-container');

            // Handle hero image
            if (heroImage) {
                if (heroImage.complete) {
                    heroImage.classList.add('loaded');
                    heroContainer.classList.add('image-loaded');
                } else {
                    heroImage.addEventListener('load', function() {
                        this.classList.add('loaded');
                        heroContainer.classList.add('image-loaded');
                    });
                    heroImage.addEventListener('error', function() {
                        heroContainer.classList.add('image-loaded');
                    });
                }
            }

            // Handle image containers
            imageContainers.forEach(container => {
                const img = container.querySelector('img:first-child');
                if (img) {
                    if (img.complete) {
                        img.classList.add('loaded');
                        container.classList.add('image-loaded');
                    } else {
                        img.addEventListener('load', function() {
                            this.classList.add('loaded');
                            container.classList.add('image-loaded');
                        });
                        img.addEventListener('error', function() {
                            container.classList.add('image-loaded');
                        });
                    }
                }
            });
        }

        // Run on page load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', handleImageLoad);
        } else {
            handleImageLoad();
        }

        // Re-run when new images might load
        const observer = new MutationObserver(handleImageLoad);
        observer.observe(document.body, { childList: true, subtree: true });
    </script>
</body>
</html>
